# AeroTest AI å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ“‹ å‰ç½®è¦æ±‚

### ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.15+, Linux (Ubuntu 20.04+)
- **Python**: 3.11 æˆ–æ›´é«˜ç‰ˆæœ¬
- **å†…å­˜**: è‡³å°‘ 4GB RAM
- **ç£ç›˜**: è‡³å°‘ 2GB å¯ç”¨ç©ºé—´

### è½¯ä»¶ä¾èµ–

1. **Python 3.11+**
   ```bash
   python --version  # ç¡®è®¤ç‰ˆæœ¬
   ```

2. **Poetry** (Python åŒ…ç®¡ç†å·¥å…·)
   ```bash
   # å®‰è£… Poetry
   curl -sSL https://install.python-poetry.org | python3 -
   
   # æˆ–ä½¿ç”¨ pip
   pip install poetry
   ```

3. **PostgreSQL 14+** (å¯é€‰ï¼Œå¼€å‘ç¯å¢ƒå¯ä½¿ç”¨ SQLite)
   ```bash
   # macOS
   brew install postgresql@14
   
   # Ubuntu
   sudo apt install postgresql-14
   ```

4. **Redis 6+** (å¯é€‰)
   ```bash
   # macOS
   brew install redis
   
   # Ubuntu
   sudo apt install redis-server
   ```

5. **Chrome/Chromium** (ç”¨äºæµè§ˆå™¨è‡ªåŠ¨åŒ–)

## ğŸš€ å®‰è£…æ­¥éª¤

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-org/aerotest-ai.git
cd aerotest-ai
```

### 2. å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ Poetry å®‰è£…æ‰€æœ‰ä¾èµ–
poetry install

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
poetry shell
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶
nano .env  # æˆ–ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
```

**é‡è¦é…ç½®é¡¹**:

```env
# é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å° API Keyï¼ˆå¿…éœ€ï¼‰
DASHSCOPE_API_KEY=your_api_key_here

# æ•°æ®åº“é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒå¯ä½¿ç”¨é»˜è®¤å€¼ï¼‰
DATABASE_URL=postgresql+asyncpg://aerotest:password@localhost:5432/aerotest

# å¼€å‘ç¯å¢ƒè®¾ç½®
APP_ENV=development
APP_DEBUG=true
LOG_LEVEL=INFO
```

### 4. åˆå§‹åŒ–é¡¹ç›®

```bash
# è¿è¡Œåˆå§‹åŒ–è„šæœ¬
poetry run python scripts/init_project.py

# æˆ–ä½¿ç”¨ CLI å‘½ä»¤
poetry run aerotest init
```

è¿™ä¼šåˆ›å»ºå¿…è¦çš„ç›®å½•ç»“æ„ï¼š
- `logs/` - æ—¥å¿—æ–‡ä»¶
- `data/knowledge_base/` - è‡ªæ„ˆçŸ¥è¯†åº“
- `data/reports/` - æµ‹è¯•æŠ¥å‘Š
- `data/screenshots/` - æˆªå›¾å­˜å‚¨

### 5. åˆå§‹åŒ–æ•°æ®åº“

#### é€‰é¡¹ A: ä½¿ç”¨ PostgreSQLï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

```bash
# 1. åˆ›å»ºæ•°æ®åº“
createdb aerotest

# 2. è¿è¡Œè¿ç§»
poetry run alembic upgrade head
```

#### é€‰é¡¹ B: ä½¿ç”¨ SQLiteï¼ˆå¼€å‘ç¯å¢ƒï¼‰

```bash
# ä¿®æ”¹ .env ä¸­çš„æ•°æ®åº“ URL
DATABASE_URL=sqlite+aiosqlite:///./data/aerotest.db

# è¿è¡Œè¿ç§»
poetry run alembic upgrade head
```

### 6. éªŒè¯å®‰è£…

```bash
# è¿è¡Œæµ‹è¯•
poetry run pytest

# æ£€æŸ¥å¥åº·çŠ¶æ€
poetry run aerotest --version
```

## ğŸ¯ ç¬¬ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹

### 1. åˆ›å»ºæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶

åˆ›å»º `examples/demo_test.py`:

```python
import asyncio
from aerotest import AeroTestClient

async def main():
    # åˆ›å»ºå®¢æˆ·ç«¯
    client = AeroTestClient()
    
    # å®šä¹‰æµ‹è¯•ç”¨ä¾‹
    test_case = {
        "name": "ç™¾åº¦æœç´¢æµ‹è¯•",
        "description": "æµ‹è¯•ç™¾åº¦æœç´¢åŠŸèƒ½",
        "steps": [
            {
                "action": "navigate",
                "value": "https://www.baidu.com"
            },
            {
                "action": "input",
                "selector": "æœç´¢è¾“å…¥æ¡†",
                "value": "AeroTest AI"
            },
            {
                "action": "click",
                "selector": "ç™¾åº¦ä¸€ä¸‹"
            },
            {
                "action": "wait",
                "value": 2000  # ç­‰å¾… 2 ç§’
            }
        ]
    }
    
    # æ‰§è¡Œæµ‹è¯•
    result = await client.execute_test(test_case)
    
    # æ‰“å°ç»“æœ
    print(f"æµ‹è¯•çŠ¶æ€: {result.status}")
    print(f"æ‰§è¡Œæ—¶é—´: {result.execution_time:.2f}ç§’")
    
    # å…³é—­å®¢æˆ·ç«¯
    await client.close()

if __name__ == "__main__":
    asyncio.run(main())
```

### 2. è¿è¡Œæµ‹è¯•

```bash
poetry run python examples/demo_test.py
```

## ğŸŒ å¯åŠ¨ API æœåŠ¡

### 1. å¼€å‘æ¨¡å¼

```bash
# ä½¿ç”¨ CLI å‘½ä»¤ï¼ˆæ¨èï¼‰
poetry run aerotest serve

# æˆ–ç›´æ¥ä½¿ç”¨ uvicorn
poetry run uvicorn aerotest.api.main:app --reload
```

æœåŠ¡å¯åŠ¨åï¼Œè®¿é—®ï¼š

- **API æ–‡æ¡£**: http://localhost:8000/api/docs
- **å¥åº·æ£€æŸ¥**: http://localhost:8000/api/health

### 2. æµ‹è¯• API

ä½¿ç”¨ curl æˆ– Postman æµ‹è¯•ï¼š

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/api/health

# åˆ›å»ºæµ‹è¯•ç”¨ä¾‹
curl -X POST http://localhost:8000/api/v1/test-cases \
  -H "Content-Type: application/json" \
  -d '{
    "name": "APIæµ‹è¯•",
    "steps": [
      {
        "action": "navigate",
        "value": "https://www.baidu.com"
      }
    ]
  }'
```

## ğŸ§ª è¿è¡Œæµ‹è¯•

### å•å…ƒæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
poetry run pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
poetry run pytest tests/unit/test_config.py

# æ˜¾ç¤ºè¯¦ç»†è¾“å‡º
poetry run pytest -v

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
poetry run pytest --cov=aerotest --cov-report=html
open htmlcov/index.html  # æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Š
```

### é›†æˆæµ‹è¯•

```bash
# è¿è¡Œé›†æˆæµ‹è¯•
poetry run pytest tests/integration/

# è·³è¿‡æ…¢é€Ÿæµ‹è¯•
poetry run pytest -m "not slow"
```

## ğŸ“ å¼€å‘å·¥ä½œæµ

### 1. ä»£ç é£æ ¼æ£€æŸ¥

```bash
# æ ¼å¼åŒ–ä»£ç 
poetry run black aerotest/ tests/

# Lint æ£€æŸ¥
poetry run ruff check aerotest/ tests/

# ç±»å‹æ£€æŸ¥
poetry run mypy aerotest/
```

### 2. æäº¤å‰æ£€æŸ¥

```bash
# è¿è¡Œæ‰€æœ‰æ£€æŸ¥
poetry run black aerotest/ tests/ && \
poetry run ruff check aerotest/ tests/ && \
poetry run pytest
```

### 3. æ•°æ®åº“è¿ç§»

```bash
# ç”Ÿæˆæ–°çš„è¿ç§»è„šæœ¬
poetry run alembic revision --autogenerate -m "æ·»åŠ æ–°å­—æ®µ"

# æŸ¥çœ‹è¿ç§»å†å²
poetry run alembic history

# æ‰§è¡Œè¿ç§»
poetry run alembic upgrade head

# å›æ»šè¿ç§»
poetry run alembic downgrade -1
```

## ğŸ› å¸¸è§é—®é¢˜

### 1. Poetry å®‰è£…ä¾èµ–å¤±è´¥

```bash
# æ¸…é™¤ç¼“å­˜
poetry cache clear pypi --all

# é‡æ–°å®‰è£…
poetry install
```

### 2. æ•°æ®åº“è¿æ¥å¤±è´¥

æ£€æŸ¥ PostgreSQL æ˜¯å¦è¿è¡Œï¼š

```bash
# macOS
brew services list

# Ubuntu
sudo systemctl status postgresql
```

### 3. ç«¯å£è¢«å ç”¨

```bash
# æŸ¥çœ‹å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :8000

# æ€æ­»è¿›ç¨‹
kill -9 <PID>

# æˆ–ä½¿ç”¨å…¶ä»–ç«¯å£
poetry run aerotest serve --port 8001
```

### 4. DASHSCOPE_API_KEY æœªé…ç½®

ç¡®ä¿ `.env` æ–‡ä»¶ä¸­é…ç½®äº†æœ‰æ•ˆçš„ API Keyï¼š

```env
DASHSCOPE_API_KEY=sk-xxxxxxxxxxxxx
```

## ğŸ“š ä¸‹ä¸€æ­¥

- é˜…è¯» [å·¥ç¨‹æ¶æ„è¯´æ˜](å·¥ç¨‹æ¶æ„è¯´æ˜.md)
- æŸ¥çœ‹ [æŠ€æœ¯æ¶æ„è®¾è®¡](AeroTest-æŠ€æœ¯æ¶æ„è®¾è®¡.md)
- äº†è§£ [browser-use é›†æˆæ–¹æ¡ˆ](browser-use-CDPä»£ç å¤ç”¨åˆ†æ.md)

## ğŸ¤ è·å–å¸®åŠ©

- **GitHub Issues**: https://github.com/your-org/aerotest-ai/issues
- **æ–‡æ¡£**: https://your-docs-site.com
- **é‚®ä»¶**: support@aerotest.ai

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰

